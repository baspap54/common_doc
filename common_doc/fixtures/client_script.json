[
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Customer",
  "enabled": 1,
  "modified": "2023-02-03 23:18:07.223656",
  "module": "Common Doc",
  "name": "Customer Button",
  "script": "frappe.ui.form.on('Customer', {\n\trefresh: function(frm) {\n\t\t// your code here\n\t\tif (frm.selected_doc.country_code == 'KR' ||  frm.selected_doc.country_code == 'kr'){\n\t\tfrm.add_custom_button(__('Home Tax Korea'),function(){\n\t\t    \n\t\t    //common_doc.common_doc.doctype.currency_exchange_rate.api.get_calendar \n\t\t    \n            let country_code = frm.selected_doc.country_code;\n            let tax_id = frm.selected_doc.tax_id;\n            \n            frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.currency_exchange_rate.api.get_tax_info\", \n\t\t\t\targs: {\n\t\t\t\t\t'country_code':country_code,\n\t\t\t\t\t'bizno' : tax_id\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\tcur_frm.set_value('home_tax_msg',r.message.home_tax_msg);\n\t\t\t\t\t\tcur_frm.set_value('tax_id',r.message.tax_id);\n\t\t\t\t\t\tcur_frm.set_value('taxation_type',r.message.taxation_type);\n\t\t\t\t// \t\tcur_frm.set_value('home_tax_date',r.message.home_tax_date);\n\t\t\t\t\t\tcur_frm.set_value('home_tax_yn',r.message.home_tax_yn);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t    \n\t\t}, __(\"Get Info from API\")    );\n\t\t}\n\t\tfrm.add_custom_button(__('Create Credit Rate'), function () {\n            \tfrappe.call({\n            \t\t\tmethod: \"hana_amt_credit.hana_amt_credit.doctype.credit_check.credit_check.make_credit_rate\",\n            \t\t\targs: {\n            \t\t\t\tdoctype: frm.doc.doctype,\n            \t\t\t\tdocname: frm.doc.name\n            \t\t\t},\n            \t\t\tcallback: function(r) {\n            \t\t\t\tvar doclist = frappe.model.sync(r.message);\n            \t\t\t\tfrappe.set_route(\"Form\", doclist[0].doctype, doclist[0].name);\n            \t\t\t}\n            \t})\n            \t\n\t\t}, __('Create'));\n\t},\n\t\n\t\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Address",
  "enabled": 1,
  "modified": "2022-11-10 21:26:49.913006",
  "module": "Fns Crm Enhancement",
  "name": "Address translate",
  "script": "frappe.ui.form.on('Address', {\n\trefresh(frm) {\n\t\t// your code here\n\n\t\tfrm.add_custom_button(__('Korean to English'),function(){\n\t\t    let source = 'ko';\n            let source_text1 = frm.selected_doc.address_line1;\n            let source_text2 = frm.selected_doc.address_line2;\n            let target = 'en';\n            let target_text = frm.selected_doc.target_text;\n\t\t    frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.papago_translate.api.get_translate\", //dotted path to server method\n\t\t\t\targs: {\n\t\t\t\t\t'source':source,\n\t\t\t\t\t'source_text':source_text1,\n\t\t\t\t\t'target':target\n\n\t\t\t\t},\n\n\t\t\t\tcallback: function(r) {\n\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\t// code snippet\n\t\t\t\t\t\t//cur_frm.set_value('source',r.message.source);\n\t\t\t\t\t\t//cur_frm.set_value('source_text',r.message.source_text);\n\t\t\t\t\t\t//cur_frm.set_value('target',r.message.target);\n\n\t\t\t\t\t\tcur_frm.set_value('address_line1',r.message.target_text);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//cur_frm.set_value('exchange_rate',r.message.exchange_rate);\n\t\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.papago_translate.api.get_translate\", //dotted path to server method\n\t\t\t\targs: {\n\t\t\t\t\t'source':source,\n\t\t\t\t\t'source_text':source_text2,\n\t\t\t\t\t'target':target\n\n\t\t\t\t},\n\n\t\t\t\tcallback: function(r) {\n\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\t// code snippet\n\t\t\t\t\t\t//cur_frm.set_value('source',r.message.source);\n\t\t\t\t\t\t//cur_frm.set_value('source_text',r.message.source_text);\n\t\t\t\t\t\t//cur_frm.set_value('target',r.message.target);\n\n\t\t\t\t\t\tcur_frm.set_value('address_line2',r.message.target_text);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//cur_frm.set_value('exchange_rate',r.message.exchange_rate);\n\t\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}, __(\"Translate\")    );\n\t\tfrm.add_custom_button(__('English to Korean'),function(){\n\t\t    let source = 'en';\n            let source_text1 = frm.selected_doc.address_line1;\n            let source_text2 = frm.selected_doc.address_line2;\n            let target = 'ko';\n            let target_text = frm.selected_doc.target_text;\n            frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.papago_translate.api.get_translate\", //dotted path to server method\n\t\t\t\targs: {\n\t\t\t\t\t'source':source,\n\t\t\t\t\t'source_text':source_text1,\n\t\t\t\t\t'target':target\n\n\t\t\t\t},\n\n\t\t\t\tcallback: function(r) {\n\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\t// code snippet\n\t\t\t\t\t\t//cur_frm.set_value('source',r.message.source);\n\t\t\t\t\t\t//cur_frm.set_value('source_text',r.message.source_text);\n\t\t\t\t\t\t//cur_frm.set_value('target',r.message.target);\n\n\t\t\t\t\t\tcur_frm.set_value('address_line1',r.message.target_text);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//cur_frm.set_value('exchange_rate',r.message.exchange_rate);\n\t\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.papago_translate.api.get_translate\", //dotted path to server method\n\t\t\t\targs: {\n\t\t\t\t\t'source':source,\n\t\t\t\t\t'source_text':source_text2,\n\t\t\t\t\t'target':target\n\n\t\t\t\t},\n\n\t\t\t\tcallback: function(r) {\n\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\t// code snippet\n\t\t\t\t\t\t//cur_frm.set_value('source',r.message.source);\n\t\t\t\t\t\t//cur_frm.set_value('source_text',r.message.source_text);\n\t\t\t\t\t\t//cur_frm.set_value('target',r.message.target);\n\n\t\t\t\t\t\tcur_frm.set_value('address_line2',r.message.target_text);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//cur_frm.set_value('exchange_rate',r.message.exchange_rate);\n\t\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}, __(\"Translate\")    );\n\t}\n// \tonload: function(frm,cdt, cdn) {\n// \t\t\tfrappe.call({\n// \t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_admin1_list\",\n// \t\t\t\targs: {\n// \t\t\t\t\t\t'country_code': 'US'\n// \t\t\t\t\t},\n\t\t\t\t\n// \t\t\t\tcallback: function(r) {\n// \t\t\t\t    var district = []\n// \t\t\t\t    console.log(r.message)\n// \t\t\t\t    if(r.message) {\n// \t\t\t\t        for(let i=0;i<r.message.length;i++){\n//                             district.push(r.message[i].admin_name1)\n//                         }\n//                         const result = new Set(district)\n//                         const array = [...result]\n// \t\t\t\t        frm.set_df_property('district', 'options', array);\n//                         frm.refresh_field('district');\n\t\t\t\t        \n// \t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n// \t\t\t\t}\n// \t\t\t});\n\t\t\n// \t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Holiday List",
  "enabled": 1,
  "modified": "2022-12-29 02:12:26.456627",
  "module": "Common Doc",
  "name": "Get Holiday API",
  "script": "frappe.ui.form.on('Holiday List', {\n\trefresh: function(frm) {\n\t\t// your code here\n\t\tfrm.add_custom_button(__('From Google Calendar'),function(){\n\t\t    \n\t\t    //common_doc.common_doc.doctype.currency_exchange_rate.api.get_calendar \n\t\t    \n            let docname = frm.selected_doc.name;\n            let country_cd = frm.selected_doc.country_code;\n            let year = frm.selected_doc.from_date.substring(0,4);\n            \n            frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.currency_exchange_rate.api.get_calendar?country_cd=\"+country_cd+\"&year=\"+year, //dotted path to server method\n\t\t\t\tkwargs: {\n\t\t\t\t\t'country_cd':country_cd,\n\t\t\t\t\t'year' : year\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\t// code snippet\n\t\t\t\t\t\t//frappe.msgprint();\n\t\t\t\t\t\tfrappe.msgprint({\n\t\t\t\t\t\t\ttitle: __('Public holiday created'),\n\t\t\t\t\t\t\tmessage: __('Public holiday created'),\n\t\t\t\t\t\t\tindicator: 'orange'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//frm.selected_doc.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//cur_frm.set_value('exchange_rate',r.message.exchange_rate);\n\t\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t    \n\t\t}, __(\"Get Holiday\")    );\n\t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Supplier",
  "enabled": 0,
  "modified": "2023-02-04 17:56:17.309568",
  "module": null,
  "name": "Supplier Button",
  "script": "frappe.ui.form.on('Supplier', {\n\trefresh: function(frm) {\n\t\t// your code here\n\t\tif (frm.selected_doc.country_code == 'KR' ||  frm.selected_doc.country_code == 'kr'){\n\t\tfrm.add_custom_button(__('Home Tax Korea'),function(){\n\t\t    \n\t\t    //common_doc.common_doc.doctype.currency_exchange_rate.api.get_calendar \n\t\t    \n            let country_code = frm.selected_doc.country_code;\n            let tax_id = frm.selected_doc.tax_id;\n            \n            frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.currency_exchange_rate.api.get_tax_info\", \n\t\t\t\targs: {\n\t\t\t\t\t'country_code':country_code,\n\t\t\t\t\t'bizno' : tax_id\n\t\t\t\t},\n\t\t\t\tcallback: function(r) {\n\t\t\t\t\tconsole.log(r)\n\t\t\t\t\t//cur_frm.exchange_rate = r.message.exchange_rate;\n\t\t\t\t\tif(r.message) {\n\t\t\t\t\t\tcur_frm.set_value('home_tax_msg',r.message.home_tax_msg);\n\t\t\t\t\t\tcur_frm.set_value('tax_id',r.message.tax_id);\n\t\t\t\t\t\tcur_frm.set_value('taxation_type',r.message.taxation_type);\n\t\t\t\t// \t\tcur_frm.set_value('home_tax_date',r.message.home_tax_date);\n\t\t\t\t\t\tcur_frm.set_value('home_tax_yn',r.message.home_tax_yn);\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t    \n\t\t}, __(\"Get Info from API\")    );\n\t\t}\n\t}\n})",
  "view": "Form"
 },
 {
  "docstatus": 0,
  "doctype": "Client Script",
  "dt": "Address",
  "enabled": 1,
  "modified": "2022-11-20 20:40:42.499482",
  "module": "Common Doc",
  "name": "Address Sub Division",
  "script": "frappe.ui.form.on('Address', {\n    \"country_code\": function(frm) {\n        frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_admin1_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var district = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            district.push(r.message[i].admin_name1)\n                        }\n                        const result = new Set(district)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('district', 'options', array);\n                        frm.refresh_field('district');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n    },\n    \n    \"district\": function(frm) {\n        // frm.doc.state = frm.doc.district;\n        frm.set_value(\"state\",  frm.doc.district);\n        frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_admin2_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code,\n\t\t\t\t\t\t'admin_name1': frm.doc.district\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var sub_district1 = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            sub_district1.push(r.message[i].admin_name2)\n                        }\n                        const result = new Set(sub_district1)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('sub_district1', 'options', array);\n                        frm.refresh_field('sub_district1');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n    },\n    \"sub_district1\": function(frm) {\n        // frm.doc.state = frm.doc.district;\n        frm.set_value(\"county\",  frm.doc.sub_district1);\n        frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_admin3_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code,\n\t\t\t\t\t\t'admin_name1': frm.doc.district,\n\t\t\t\t\t\t'admin_name2': frm.doc.sub_district1\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var sub_district2 = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            sub_district2.push(r.message[i].admin_name3)\n                        }\n                        const result = new Set(sub_district2)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('sub_district2', 'options', array);\n                        frm.refresh_field('sub_district2');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n\t\tfrappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_places_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code,\n\t\t\t\t\t\t'admin_name1': frm.doc.district,\n\t\t\t\t\t\t'admin_name2': frm.doc.sub_district1\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var sub_district3 = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            sub_district3.push(r.message[i].place_name)\n                        }\n                        const result = new Set(sub_district3)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('sub_district3', 'options', array);\n                        frm.refresh_field('sub_district3');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n    },\n//     \"sub_district1\": function(frm) {\n//         frm.set_value(\"county\",  frm.doc.sub_district1);\n//         frappe.call({\n// \t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_places_list\",\n// \t\t\t\targs: {\n// \t\t\t\t\t\t'country_code': frm.doc.country_code,\n// \t\t\t\t\t\t'admin_name1': frm.doc.district,\n// \t\t\t\t\t\t'admin_name2': frm.doc.sub_district1\n// \t\t\t\t\t},\n\t\t\t\t\n// \t\t\t\tcallback: function(r) {\n// \t\t\t\t    var sub_district3 = []\n// \t\t\t\t    console.log(r.message)\n// \t\t\t\t    if(r.message) {\n// \t\t\t\t        for(let i=0;i<r.message.length;i++){\n//                             sub_district3.push(r.message[i].place_name)\n//                         }\n//                         const result = new Set(sub_district3)\n//                         const array = [...result]\n// \t\t\t\t        frm.set_df_property('sub_district3', 'options', array);\n//                         frm.refresh_field('sub_district3');\n\t\t\t\t        \n// \t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n// \t\t\t\t}\n// \t\t\t});\n//     },\n    \"sub_district2\": function(frm) {\n        frm.set_value(\"city\",  frm.doc.sub_district2);\n        frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_zip_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code,\n\t\t\t\t\t\t'admin_name1': frm.doc.district,\n\t\t\t\t\t\t'admin_name2': frm.doc.sub_district1,\n\t\t\t\t\t\t'admin_name3': frm.doc.sub_district2,\n\t\t\t\t\t\t'place_name':frm.doc.sub_district3\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var zip_code = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            zip_code.push(r.message[i].postal_code)\n                        }\n                        const result = new Set(zip_code)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('zip_code', 'options', array);\n                        frm.refresh_field('zip_code');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n        \n    },\n    \"sub_district3\": function(frm) {\n        \n        frm.set_value(\"city\",  frm.doc.sub_district3);\n        \n        frm.set_value(\"address_line1\",  frm.doc.sub_district3);\n        frappe.call({\n\t\t\t\tmethod: \"common_doc.common_doc.doctype.postal_code.api.get_zip_list\",\n\t\t\t\targs: {\n\t\t\t\t\t\t'country_code': frm.doc.country_code,\n\t\t\t\t\t\t'admin_name1': frm.doc.district,\n\t\t\t\t\t\t'admin_name2': frm.doc.sub_district1,\n\t\t\t\t\t\t'admin_name3': frm.doc.sub_district2,\n\t\t\t\t\t\t'place_name':frm.doc.sub_district3\n\t\t\t\t\t},\n\t\t\t\t\n\t\t\t\tcallback: function(r) {\n\t\t\t\t    var zip_code = []\n\t\t\t\t    console.log(r.message)\n\t\t\t\t    if(r.message) {\n\t\t\t\t        for(let i=0;i<r.message.length;i++){\n                            zip_code.push(r.message[i].postal_code)\n                        }\n                        const result = new Set(zip_code)\n                        const array = [...result]\n\t\t\t\t        frm.set_df_property('zip_code', 'options', array);\n                        frm.refresh_field('zip_code');\n\t\t\t\t        \n\t\t\t\t    }\n\t\t\t\t    \n\t\t\t\t    \n\t\t\t\t}\n\t\t\t});\n        \n    },\n     \"zip_code\": function(frm) {\n         \n         frm.set_value(\"pincode\",  frm.doc.zip_code);\n     }\n})",
  "view": "Form"
 }
]